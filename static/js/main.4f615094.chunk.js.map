{"version":3,"sources":["actions/types.ts","utils.ts","components/OfferCard/OfferCard.tsx","components/OfferList/OfferList.tsx","components/Main/Main.tsx","components/Login/Login.tsx","components/FavoriteCard/FavoriteCard.tsx","components/FavoriteOfferList/FavoriteOfferList.tsx","components/Favorites/Favorites.tsx","components/OfferImage/OfferImage.tsx","components/NearbyHotelsList/NearbyHotelsList.tsx","components/NewComment/NewComment.tsx","components/Room/Room.tsx","actions/action.ts","components/App/App.tsx","actions/action-api.ts","reducers/root-reducer.ts","reducers/hotels.ts","index.tsx","api.ts"],"names":["ActionTypes","calculateRating","rating","Math","round","OfferCard","props","hotel","preview_image","title","price","type","className","onMouseEnter","onHoverHandler","to","src","width","height","alt","xlinkHref","style","React","memo","OfferList","hotels","useState","setActiveOffer","startOffers","SetStartOffers","useEffect","slice","useCallback","map","i","Main","href","length","action","method","tabIndex","Login","name","placeholder","required","FavoriteCard","is_favorite","FavoriteOfferList","city","filterdOffers","filter","filterOffersByCity","Favorites","favoriteOffers","SetFavoriteOffers","favoriteCities","favoriteHotels","cities","Set","forEach","add","Array","from","getFavoriteCities","OfferImage","image","NearbyHotelsList","ratingTitles","Map","NewComment","setRating","comment","setComment","ratingArr","fill","onChangeRating","evt","value","currentTarget","Number","onChangeText","onSubmitForm","preventDefault","console","log","onSubmit","htmlFor","item","array","Fragment","id","onChange","get","disabled","Room","images","is_premium","bedrooms","max_adults","goods","description","host","avatar_url","is_pro","offerImages","good","dateTime","ActionCreator","data","loadHotels","payload","connect","fetchHotels","dispatch","_getState","api","then","loadingFlag","setLoadingFlag","exact","path","combineReducers","state","root","document","querySelector","onUnauthorized","axios","create","baseURL","timeout","withCredentials","interceptors","response","use","err","status","createApi","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","withExtraArgument","ReactDOM","render"],"mappings":"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","file":"static/js/main.4f615094.chunk.js","sourcesContent":["import { LoadHotelsAction } from \"./action\";\n\nexport enum ActionTypes {\n  loadHotels,\n}\n\nexport type Action = LoadHotelsAction;\n","export const calculateRating = (rating: number): number => {\n  const roundedRating = Math.round(rating);\n\n  switch (roundedRating) {\n    case 5:\n      return 100;\n    case 4:\n      return 80;\n    case 3:\n      return 60;\n    case 2:\n      return 40;\n    case 1:\n      return 20;\n    default:\n      return 0;\n  }\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Hotel } from \"../../actions/action\";\nimport { calculateRating } from \"../../utils\";\n\ninterface AppProps {\n  hotel: Hotel;\n  onHoverHandler?: (hotel: Hotel) => void;\n  className: string;\n}\n\nconst OfferCard = (props: AppProps): JSX.Element => {\n  const { hotel } = props;\n  const { preview_image, title, price, rating, type } = hotel;\n  const { className } = props;\n\n  return (\n    <article\n      className={className}\n      onMouseEnter={() => props.onHoverHandler && props.onHoverHandler(hotel)}\n    >\n      <div className=\"cities__image-wrapper place-card__image-wrapper\">\n        <Link to={`/offer/4`}>\n          <img\n            className=\"place-card__image\"\n            src={preview_image}\n            width=\"260\"\n            height=\"200\"\n            alt={title}\n          />\n        </Link>\n      </div>\n      <div className=\"place-card__info\">\n        <div className=\"place-card__price-wrapper\">\n          <div className=\"place-card__price\">\n            <b className=\"place-card__price-value\">&euro;{price}</b>\n            <span className=\"place-card__price-text\">&#47;&nbsp;night</span>\n          </div>\n          <button className=\"place-card__bookmark-button button\" type=\"button\">\n            <svg className=\"place-card__bookmark-icon\" width=\"18\" height=\"19\">\n              <use xlinkHref=\"#icon-bookmark\"></use>\n            </svg>\n            <span className=\"visually-hidden\">To bookmarks</span>\n          </button>\n        </div>\n        <div className=\"place-card__rating rating\">\n          <div className=\"place-card__stars rating__stars\">\n            <span style={{ width: `${calculateRating(rating)}%` }}></span>\n            <span className=\"visually-hidden\">Rating</span>\n          </div>\n        </div>\n        <h2 className=\"place-card__name\">\n          <Link to={`/offer/4`}>{title}</Link>\n        </h2>\n        <p className=\"place-card__type\">{type}</p>\n      </div>\n    </article>\n  );\n};\n\nexport default React.memo(OfferCard);\n","import React from \"react\";\nimport OfferCard from \"../OfferCard/OfferCard\";\nimport { Hotel } from \"../../actions/action\";\n\ninterface OfferListProps {\n  hotels: Hotel[];\n}\n\nconst START_QUANTITY_OFFERS = 4;\n\nexport const OfferList = (props: OfferListProps) => {\n  const { hotels } = props;\n  const classNameMainPage = `cities__place-card place-card`;\n\n  const [activeOffer, setActiveOffer] = React.useState<null | Hotel>(null);\n  const [startOffers, SetStartOffers] = React.useState<[] | Hotel[]>([]);\n\n  React.useEffect((): void => {\n    SetStartOffers(hotels.slice(0, START_QUANTITY_OFFERS));\n  }, [hotels]);\n\n  const onHoverHandler = React.useCallback((hotel: Hotel): void => {\n    setActiveOffer(hotel);\n  }, []);\n\n  return (\n    <div className=\"cities__places-list places__list tabs__content\">\n      {startOffers.map(\n        (hotel: Hotel, i: number): JSX.Element => (\n          <OfferCard\n            key={i}\n            hotel={hotel}\n            onHoverHandler={onHoverHandler}\n            className={classNameMainPage}\n          />\n        )\n      )}\n    </div>\n  );\n};\n","import { Link } from \"react-router-dom\";\nimport { Hotel } from \"../../actions/action\";\nimport { OfferList } from \"../OfferList/OfferList\";\n\ninterface MainProps {\n  hotels: Hotel[];\n}\n\nexport const Main = (props: MainProps): JSX.Element => {\n  const { hotels } = props;\n\n  return (\n    <div className=\"page page--gray page--main\">\n      <header className=\"header\">\n        <div className=\"container\">\n          <div className=\"header__wrapper\">\n            <div className=\"header__left\">\n              <a className=\"header__logo-link\">\n                <img\n                  className=\"header__logo\"\n                  src=\"img/logo.svg\"\n                  alt=\"6 cities logo\"\n                  width=\"81\"\n                  height=\"41\"\n                />\n              </a>\n            </div>\n            <nav className=\"header__nav\">\n              <ul className=\"header__nav-list\">\n                <li className=\"header__nav-item user\">\n                  <Link\n                    className=\"header__nav-link header__nav-link--profile\"\n                    to={`/favorites`}\n                  >\n                    <div className=\"header__avatar-wrapper user__avatar-wrapper\"></div>\n                    <span className=\"header__user-name user__name\">\n                      Oliver.conner@gmail.com\n                    </span>\n                  </Link>\n                </li>\n              </ul>\n            </nav>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"page__main page__main--index\">\n        <h1 className=\"visually-hidden\">Cities</h1>\n        <div className=\"tabs\">\n          <section className=\"locations container\">\n            <ul className=\"locations__list tabs__list\">\n              <li className=\"locations__item\">\n                <a className=\"locations__item-link tabs__item\" href=\"#\">\n                  <span>Paris</span>\n                </a>\n              </li>\n              <li className=\"locations__item\">\n                <a className=\"locations__item-link tabs__item\" href=\"#\">\n                  <span>Cologne</span>\n                </a>\n              </li>\n              <li className=\"locations__item\">\n                <a className=\"locations__item-link tabs__item\" href=\"#\">\n                  <span>Brussels</span>\n                </a>\n              </li>\n              <li className=\"locations__item\">\n                <a className=\"locations__item-link tabs__item tabs__item--active\">\n                  <span>Amsterdam</span>\n                </a>\n              </li>\n              <li className=\"locations__item\">\n                <a className=\"locations__item-link tabs__item\" href=\"#\">\n                  <span>Hamburg</span>\n                </a>\n              </li>\n              <li className=\"locations__item\">\n                <a className=\"locations__item-link tabs__item\" href=\"#\">\n                  <span>Dusseldorf</span>\n                </a>\n              </li>\n            </ul>\n          </section>\n        </div>\n        <div className=\"cities\">\n          <div className=\"cities__places-container container\">\n            <section className=\"cities__places places\">\n              <h2 className=\"visually-hidden\">Places</h2>\n              <b className=\"places__found\">\n                {hotels.length} places to stay in Amsterdam\n              </b>\n              <form className=\"places__sorting\" action=\"#\" method=\"get\">\n                <span className=\"places__sorting-caption\">Sort by</span>\n                <span className=\"places__sorting-type\" tabIndex={0}>\n                  Popular\n                  <svg className=\"places__sorting-arrow\" width=\"7\" height=\"4\">\n                    <use xlinkHref=\"#icon-arrow-select\"></use>\n                  </svg>\n                </span>\n                <ul className=\"places__options places__options--custom places__options--opened\">\n                  <li\n                    className=\"places__option places__option--active\"\n                    tabIndex={0}\n                  >\n                    Popular\n                  </li>\n                  <li className=\"places__option\" tabIndex={0}>\n                    Price: low to high\n                  </li>\n                  <li className=\"places__option\" tabIndex={0}>\n                    Price: high to low\n                  </li>\n                  <li className=\"places__option\" tabIndex={0}>\n                    Top rated first\n                  </li>\n                </ul>\n              </form>\n              <OfferList hotels={hotels} />\n            </section>\n            <div className=\"cities__right-section\">\n              <section className=\"cities__map map\"></section>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n};\n","import { Link } from \"react-router-dom\";\n\nexport const Login = (): JSX.Element => {\n  return (\n    <div className=\"page page--gray page--login\">\n      <header className=\"header\">\n        <div className=\"container\">\n          <div className=\"header__wrapper\">\n            <div className=\"header__left\">\n              <Link className=\"header__logo-link\" to={`/`}>\n                <img\n                  className=\"header__logo\"\n                  src=\"img/logo.svg\"\n                  alt=\"6 cities logo\"\n                  width=\"81\"\n                  height=\"41\"\n                />\n              </Link>\n            </div>\n            <nav className=\"header__nav\">\n              <ul className=\"header__nav-list\">\n                <li className=\"header__nav-item user\">\n                  <a className=\"header__nav-link header__nav-link--profile\">\n                    <div className=\"header__avatar-wrapper user__avatar-wrapper\"></div>\n                    <span className=\"header__login\">Sign in</span>\n                  </a>\n                </li>\n              </ul>\n            </nav>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"page__main page__main--login\">\n        <div className=\"page__login-container container\">\n          <section className=\"login\">\n            <h1 className=\"login__title\">Sign in</h1>\n            <form className=\"login__form form\" action=\"#\" method=\"post\">\n              <div className=\"login__input-wrapper form__input-wrapper\">\n                <label className=\"visually-hidden\">E-mail</label>\n                <input\n                  className=\"login__input form__input\"\n                  type=\"email\"\n                  name=\"email\"\n                  placeholder=\"Email\"\n                  required={true}\n                />\n              </div>\n              <div className=\"login__input-wrapper form__input-wrapper\">\n                <label className=\"visually-hidden\">Password</label>\n                <input\n                  className=\"login__input form__input\"\n                  type=\"password\"\n                  name=\"password\"\n                  placeholder=\"Password\"\n                  required={true}\n                />\n              </div>\n              <button\n                className=\"login__submit form__submit button\"\n                type=\"submit\"\n              >\n                Sign in\n              </button>\n            </form>\n          </section>\n          <section className=\"locations locations--login locations--current\">\n            <div className=\"locations__item\">\n              <Link className=\"locations__item-link\" to={`/`}>\n                <span>Amsterdam</span>\n              </Link>\n            </div>\n          </section>\n        </div>\n      </main>\n    </div>\n  );\n};\n","import { calculateRating } from \"../../utils\";\nimport { Hotel } from \"../../actions/action\";\n\ninterface OwnProps {\n  hotel: Hotel;\n}\n\nexport const FavoriteCard = (props: OwnProps) => {\n  const {\n    title,\n    price,\n    is_favorite,\n    rating,\n    type,\n    preview_image,\n  } = props.hotel;\n\n  return (\n    <article className=\"favorites__card place-card\">\n      <div className=\"favorites__image-wrapper place-card__image-wrapper\">\n        <a href=\"#\">\n          <img\n            className=\"place-card__image\"\n            src={preview_image}\n            width=\"150\"\n            height=\"110\"\n            alt={title}\n          />\n        </a>\n      </div>\n      <div className=\"favorites__card-info place-card__info\">\n        <div className=\"place-card__price-wrapper\">\n          <div className=\"place-card__price\">\n            <b className=\"place-card__price-value\">&euro;{price}</b>\n            <span className=\"place-card__price-text\">&#47;&nbsp;night</span>\n          </div>\n          <button\n            className={\n              is_favorite\n                ? `place-card__bookmark-button place-card__bookmark-button--active button`\n                : `place-card__bookmark-button button`\n            }\n            type=\"button\"\n          >\n            <svg className=\"place-card__bookmark-icon\" width=\"18\" height=\"19\">\n              <use xlinkHref=\"#icon-bookmark\"></use>\n            </svg>\n            <span className=\"visually-hidden\">In bookmarks</span>\n          </button>\n        </div>\n        <div className=\"place-card__rating rating\">\n          <div className=\"place-card__stars rating__stars\">\n            <span style={{ width: `${calculateRating(rating)}%` }}></span>\n            <span className=\"visually-hidden\">Rating</span>\n          </div>\n        </div>\n        <h2 className=\"place-card__name\">\n          <a href=\"#\">{title}</a>\n        </h2>\n        <p className=\"place-card__type\">{type}</p>\n      </div>\n    </article>\n  );\n};\n","import { Hotel } from \"../../actions/action\";\nimport { FavoriteCard } from \"../FavoriteCard/FavoriteCard\";\n\ninterface OwnProps {\n  hotels: Hotel[];\n  city: string;\n}\n\nexport const FavoriteOfferList = (props: OwnProps): JSX.Element => {\n  const { hotels, city } = props;\n\n  const filterOffersByCity = (hotels: Hotel[]): Hotel[] => {\n    return hotels.filter((hotel: Hotel): boolean => hotel.city.name === city);\n  };\n\n  const filterdOffers = filterOffersByCity(hotels);\n\n  return (\n    <>\n      {filterdOffers.map(\n        (hotel: Hotel, i: number): JSX.Element => (\n          <FavoriteCard key={i} hotel={hotel} />\n        )\n      )}\n    </>\n  );\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Hotel } from \"../../actions/action\";\nimport { FavoriteOfferList } from \"../FavoriteOfferList/FavoriteOfferList\";\n\ntype OwnStateProps = {\n  hotels: Hotel[];\n};\n\nconst QUANTITY_FAVORITE_OFFERS = 10;\n\nexport const Favorites = (props: OwnStateProps): JSX.Element => {\n  const { hotels } = props;\n\n  const [favoriteOffers, SetFavoriteOffers] = React.useState<[] | Hotel[]>([]);\n\n  const getFavoriteCities = (favoriteHotels: Hotel[]): string[] => {\n    const cities: Set<string> = new Set();\n    favoriteHotels.forEach(\n      (hotel: Hotel): Set<string> => cities.add(hotel.city.name)\n    );\n    return Array.from(cities);\n  };\n\n  React.useEffect((): void => {\n    SetFavoriteOffers(hotels.slice(0, QUANTITY_FAVORITE_OFFERS));\n  }, [hotels]);\n\n  const favoriteCities = getFavoriteCities(favoriteOffers);\n\n  return (\n    <div className=\"page\">\n      <header className=\"header\">\n        <div className=\"container\">\n          <div className=\"header__wrapper\">\n            <div className=\"header__left\">\n              <Link className=\"header__logo-link\" to={`/`}>\n                <img\n                  className=\"header__logo\"\n                  src=\"img/logo.svg\"\n                  alt=\"6 cities logo\"\n                  width=\"81\"\n                  height=\"41\"\n                />\n              </Link>\n            </div>\n            <nav className=\"header__nav\">\n              <ul className=\"header__nav-list\">\n                <li className=\"header__nav-item user\">\n                  <Link\n                    className=\"header__nav-link header__nav-link--profile\"\n                    to={`/favorites`}\n                  >\n                    <div className=\"header__avatar-wrapper user__avatar-wrapper\"></div>\n                    <span className=\"header__user-name user__name\">\n                      Oliver.conner@gmail.com\n                    </span>\n                  </Link>\n                </li>\n              </ul>\n            </nav>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"page__main page__main--favorites\">\n        <div className=\"page__favorites-container container\">\n          <section className=\"favorites\">\n            <h1 className=\"favorites__title\">Saved listing</h1>\n            <ul className=\"favorites__list\">\n              {favoriteCities.map(\n                (city: string, i: number): JSX.Element => (\n                  <li key={i} className=\"favorites__locations-items\">\n                    <div className=\"favorites__locations locations locations--current\">\n                      <div className=\"locations__item\">\n                        <Link className=\"locations__item-link\" to={`/`}>\n                          <span>{city}</span>\n                        </Link>\n                      </div>\n                    </div>\n                    <div className=\"favorites__places\">\n                      <FavoriteOfferList\n                        key={i}\n                        hotels={favoriteOffers}\n                        city={city}\n                      />\n                    </div>\n                  </li>\n                )\n              )}\n            </ul>\n          </section>\n        </div>\n      </main>\n      <footer className=\"footer container\">\n        <Link className=\"footer__logo-link\" to={`/`}>\n          <img\n            className=\"footer__logo\"\n            src=\"img/logo.svg\"\n            alt=\"6 cities logo\"\n            width=\"64\"\n            height=\"33\"\n          />\n        </Link>\n      </footer>\n    </div>\n  );\n};\n","type OwnProps = {\n  image: string;\n  title: string;\n};\n\nexport const OfferImage = (props: OwnProps) => {\n  return (\n    <div className=\"property__image-wrapper\">\n      <img className=\"property__image\" src={props.image} alt={props.title} />\n    </div>\n  );\n};\n","import React from \"react\";\nimport OfferCard from \"../OfferCard/OfferCard\";\nimport { Hotel } from \"../../actions/action\";\n\ninterface OfferListProps {\n  hotels: Hotel[];\n}\n\nconst START_QUANTITY_OFFERS = 3;\n\nexport const NearbyHotelsList = (props: OfferListProps) => {\n  const { hotels } = props;\n  const classNameMainPage = `near-places__card place-card`;\n\n  const [startOffers, SetStartOffers] = React.useState<Hotel[] | []>([]);\n\n  // Временое решение\n  React.useEffect((): void => {\n    SetStartOffers(hotels.slice(0, START_QUANTITY_OFFERS));\n  }, [hotels]);\n\n  return (\n    <div className=\"near-places__list places__list\">\n      {startOffers.map(\n        (hotel: Hotel, i: number): JSX.Element => (\n          <OfferCard key={i} hotel={hotel} className={classNameMainPage} />\n        )\n      )}\n    </div>\n  );\n};\n","import React from \"react\";\n\nconst ratingTitles = new Map([\n  [1, `terribly`],\n  [2, `badly`],\n  [3, `not bad`],\n  [4, `good`],\n  [5, `perfect`],\n]);\n\nexport const NewComment = () => {\n  const [rating, setRating] = React.useState<number>();\n  const [comment, setComment] = React.useState<string>();\n\n  const MAX_RATING = 5;\n  const MIN_CHARACTERS = 50;\n  const ratingArr = new Array(MAX_RATING).fill(``);\n\n  const onChangeRating = React.useCallback(\n    (evt: React.FormEvent<HTMLInputElement>): void => {\n      const { value } = evt.currentTarget;\n      setRating(Number(value));\n    },\n    []\n  );\n\n  const onChangeText = React.useCallback(\n    (evt: React.FormEvent<HTMLTextAreaElement>): void => {\n      const { value } = evt.currentTarget;\n      setComment(value);\n    },\n    []\n  );\n\n  const onSubmitForm = React.useCallback(\n    (evt: React.FormEvent): void => {\n      evt.preventDefault();\n\n      console.log(`Коммент отправлен`);\n      console.log(`Рейтинг ${rating}`);\n      console.log(`Комментарий ${comment}`);\n    },\n    [rating, comment]\n  );\n\n  return (\n    <form\n      className=\"reviews__form form\"\n      action=\"#\"\n      method=\"post\"\n      onSubmit={onSubmitForm}\n    >\n      <label className=\"reviews__label form__label\" htmlFor=\"review\">\n        Your review\n      </label>\n      <div className=\"reviews__rating-form form__rating\">\n        {ratingArr.map((item: JSX.Element, i: number, array: number[]) => (\n          <React.Fragment key={i}>\n            <input\n              className=\"form__rating-input visually-hidden\"\n              name=\"rating\"\n              value={array.length - i}\n              id={`${array.length - i}-stars`}\n              type=\"radio\"\n              onChange={onChangeRating}\n            />\n            <label\n              htmlFor={`${array.length - i}-stars`}\n              className=\"reviews__rating-label form__rating-label\"\n              title={ratingTitles.get(array.length - i)}\n            >\n              <svg className=\"form__star-image\" width=\"37\" height=\"33\">\n                <use xlinkHref=\"#icon-star\"></use>\n              </svg>\n            </label>\n          </React.Fragment>\n        ))}\n      </div>\n      <textarea\n        className=\"reviews__textarea form__textarea\"\n        id=\"review\"\n        name=\"review\"\n        placeholder=\"Tell how was your stay, what you like and what can be improved\"\n        onChange={onChangeText}\n      ></textarea>\n      <div className=\"reviews__button-wrapper\">\n        <p className=\"reviews__help\">\n          To submit review please make sure to set\n          <span className=\"reviews__star\">rating</span> and describe your stay\n          with at least\n          <b className=\"reviews__text-amount\">50 characters</b>.\n        </p>\n        <button\n          className=\"reviews__submit form__submit button\"\n          type=\"submit\"\n          disabled={\n            comment && comment.length >= MIN_CHARACTERS && rating ? false : true\n          }\n        >\n          Submit\n        </button>\n      </div>\n    </form>\n  );\n};\n","import { Link } from \"react-router-dom\";\nimport { Hotel } from \"../../actions/action\";\nimport { calculateRating } from \"../../utils\";\nimport { OfferImage } from \"../OfferImage/OfferImage\";\nimport { NearbyHotelsList } from \"../NearbyHotelsList/NearbyHotelsList\";\nimport { NewComment } from \"../NewComment/NewComment\";\n\ntype OwnProps = {\n  hotel: Hotel;\n  hotels: Hotel[];\n};\n\nconst MAX_OFFER_IMAGES = 6;\n\nexport const Room = (props: OwnProps): JSX.Element => {\n  const {\n    images,\n    title,\n    is_premium,\n    rating,\n    type,\n    bedrooms,\n    max_adults,\n    price,\n    goods,\n    description,\n  } = props.hotel;\n\n  const { avatar_url, name, is_pro } = props.hotel.host;\n  const { hotels } = props;\n\n  const offerImages = images.slice(0, MAX_OFFER_IMAGES);\n\n  return (\n    <div className=\"page\">\n      <header className=\"header\">\n        <div className=\"container\">\n          <div className=\"header__wrapper\">\n            <div className=\"header__left\">\n              <Link className=\"header__logo-link\" to={`/`}>\n                <img\n                  className=\"header__logo\"\n                  src=\"img/logo.svg\"\n                  alt=\"6 cities logo\"\n                  width=\"81\"\n                  height=\"41\"\n                />\n              </Link>\n            </div>\n            <nav className=\"header__nav\">\n              <ul className=\"header__nav-list\">\n                <li className=\"header__nav-item user\">\n                  <Link\n                    className=\"header__nav-link header__nav-link--profile\"\n                    to={`/favorites`}\n                  >\n                    <div className=\"header__avatar-wrapper user__avatar-wrapper\"></div>\n                    <span className=\"header__user-name user__name\">\n                      Oliver.conner@gmail.com\n                    </span>\n                  </Link>\n                </li>\n              </ul>\n            </nav>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"page__main page__main--property\">\n        <section className=\"property\">\n          <div className=\"property__gallery-container container\">\n            <div className=\"property__gallery\">\n              {offerImages.map(\n                (image: string, i: number): JSX.Element => (\n                  <OfferImage key={i} image={image} title={title} />\n                )\n              )}\n            </div>\n          </div>\n          <div className=\"property__container container\">\n            <div className=\"property__wrapper\">\n              {is_premium ? (\n                <div className=\"property__mark\">\n                  <span>Premium</span>\n                </div>\n              ) : null}\n\n              <div className=\"property__name-wrapper\">\n                <h1 className=\"property__name\">{title}</h1>\n                <button\n                  className=\"property__bookmark-button button\"\n                  type=\"button\"\n                >\n                  <svg\n                    className=\"property__bookmark-icon\"\n                    width=\"31\"\n                    height=\"33\"\n                  >\n                    <use xlinkHref=\"#icon-bookmark\"></use>\n                  </svg>\n                  <span className=\"visually-hidden\">To bookmarks</span>\n                </button>\n              </div>\n              <div className=\"property__rating rating\">\n                <div className=\"property__stars rating__stars\">\n                  <span style={{ width: `${calculateRating(rating)}%` }}></span>\n                  <span className=\"visually-hidden\">Rating</span>\n                </div>\n                <span className=\"property__rating-value rating__value\">\n                  {rating}\n                </span>\n              </div>\n              <ul className=\"property__features\">\n                <li className=\"property__feature property__feature--entire\">\n                  {type}\n                </li>\n                <li className=\"property__feature property__feature--bedrooms\">\n                  {bedrooms} Bedrooms\n                </li>\n                <li className=\"property__feature property__feature--adults\">\n                  Max {max_adults} adults\n                </li>\n              </ul>\n              <div className=\"property__price\">\n                <b className=\"property__price-value\">&euro;{price}</b>\n                <span className=\"property__price-text\">&nbsp;night</span>\n              </div>\n              <div className=\"property__inside\">\n                <h2 className=\"property__inside-title\">What&apos;s inside</h2>\n                <ul className=\"property__inside-list\">\n                  {goods.map(\n                    (good: string, i: number): JSX.Element => (\n                      <li key={i} className=\"property__inside-item\">\n                        {good}\n                      </li>\n                    )\n                  )}\n                </ul>\n              </div>\n              <div className=\"property__host\">\n                <h2 className=\"property__host-title\">Meet the host</h2>\n                <div className=\"property__host-user user\">\n                  <div\n                    className={\n                      is_pro\n                        ? `property__avatar-wrapper property__avatar-wrapper--pro user__avatar-wrapper`\n                        : `property__avatar-wrapper user__avatar-wrapper`\n                    }\n                  >\n                    <img\n                      className=\"property__avatar user__avatar\"\n                      src={avatar_url}\n                      width=\"74\"\n                      height=\"74\"\n                      alt=\"Host avatar\"\n                    />\n                  </div>\n                  <span className=\"property__user-name\">{name}</span>\n                </div>\n                <div className=\"property__description\">\n                  <p className=\"property__text\">{description}</p>\n                </div>\n              </div>\n              <section className=\"property__reviews reviews\">\n                <h2 className=\"reviews__title\">\n                  Reviews &middot; <span className=\"reviews__amount\">1</span>\n                </h2>\n                <ul className=\"reviews__list\">\n                  <li className=\"reviews__item\">\n                    <div className=\"reviews__user user\">\n                      <div className=\"reviews__avatar-wrapper user__avatar-wrapper\">\n                        <img\n                          className=\"reviews__avatar user__avatar\"\n                          src=\"img/avatar-max.jpg\"\n                          width=\"54\"\n                          height=\"54\"\n                          alt=\"Reviews avatar\"\n                        />\n                      </div>\n                      <span className=\"reviews__user-name\">Max</span>\n                    </div>\n                    <div className=\"reviews__info\">\n                      <div className=\"reviews__rating rating\">\n                        <div className=\"reviews__stars rating__stars\">\n                          <span style={{ width: `80%` }}></span>\n                          <span className=\"visually-hidden\">Rating</span>\n                        </div>\n                      </div>\n                      <p className=\"reviews__text\">\n                        A quiet cozy and picturesque that hides behind a a river\n                        by the unique lightness of Amsterdam. The building is\n                        green and from 18th century.\n                      </p>\n                      <time className=\"reviews__time\" dateTime=\"2019-04-24\">\n                        April 2019\n                      </time>\n                    </div>\n                  </li>\n                </ul>\n                <NewComment />\n              </section>\n            </div>\n          </div>\n          <section className=\"property__map map\"></section>\n        </section>\n        <div className=\"container\">\n          <section className=\"near-places places\">\n            <h2 className=\"near-places__title\">\n              Other places in the neighbourhood\n            </h2>\n            <NearbyHotelsList hotels={hotels} />\n          </section>\n        </div>\n      </main>\n    </div>\n  );\n};\n","import { ActionTypes } from \"./types\";\n\nexport interface Hotel {\n  id: number;\n  bedrooms: number;\n  city: {\n    location: {\n      latitude: number;\n      longitude: number;\n      zoom: number;\n    };\n    name: string;\n  };\n  description: string;\n  goods: string[];\n  host: {\n    avatar_url: string;\n    id: number;\n    is_pro: boolean;\n    name: string;\n  };\n  images: string[];\n  is_favorite: boolean;\n  is_premium: boolean;\n  location: {\n    latitude: number;\n    longitude: number;\n    zoom: number;\n  };\n  max_adults: number;\n  preview_image: string;\n  price: number;\n  rating: number;\n  title: string;\n  type: string;\n}\n\nexport interface LoadHotelsAction {\n  type: ActionTypes.loadHotels;\n  payload: Hotel[];\n}\n\nexport const ActionCreator = {\n  loadHotels: (data: Hotel[]) => ({\n    type: ActionTypes.loadHotels,\n    payload: data,\n  }),\n};\n","import React from \"react\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport { Main } from \"../Main/Main\";\nimport { Login } from \"../Login/Login\";\nimport { Favorites } from \"../Favorites/Favorites\";\nimport { Room } from \"../Room/Room\";\nimport { connect } from \"react-redux\";\nimport { fetchHotels } from \"../../actions/action-api\";\nimport { StoreState } from \"../../reducers/root-reducer\";\nimport { Hotel } from \"../../actions/action\";\n\ntype AppStateProps = {\n  hotels: Hotel[];\n};\n\ntype AppDispatchProps = {\n  fetchHotels: Function;\n};\n\ntype AppProps = AppStateProps & AppDispatchProps;\n\nconst App = ({ hotels, fetchHotels }: AppProps): JSX.Element => {\n  const [loadingFlag, setLoadingFlag] = React.useState(true);\n\n  React.useEffect((): void => {\n    fetchHotels().then(() => setLoadingFlag(false));\n  }, []);\n\n  if (loadingFlag) {\n    return <div>LOADING...</div>;\n  }\n\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route exact path=\"/\">\n          <Main hotels={hotels} />\n        </Route>\n        <Route exact path=\"/login\">\n          <Login />\n        </Route>\n        <Route exact path=\"/favorites\">\n          <Favorites hotels={hotels} />\n        </Route>\n        <Route exact path=\"/offer/:id\">\n          <Room hotel={hotels[2]} hotels={hotels} />\n        </Route>\n      </Switch>\n    </BrowserRouter>\n  );\n};\n\nconst mapStateToProps = ({ hotels }: StoreState): { hotels: Hotel[] } => {\n  return { hotels };\n};\n\nexport { App };\nexport default connect<AppStateProps, AppDispatchProps, {}, StoreState>(\n  mapStateToProps,\n  { fetchHotels }\n)(App);\n","import { Dispatch } from \"redux\";\nimport { AxiosInstance } from \"axios\";\nimport { Action } from \"./types\";\nimport { Hotel, ActionCreator } from \"./action\";\nimport { StoreState } from \"../reducers/root-reducer\";\n\nexport const fetchHotels = () => (\n  dispatch: Dispatch<Action>,\n  _getState: () => StoreState,\n  api: AxiosInstance\n): Promise<void> =>\n  api.get<Hotel[]>(`/hotels`).then(({ data }) => {\n    dispatch(ActionCreator.loadHotels(data));\n  });\n","import { combineReducers } from \"redux\";\nimport { hotelsReducer } from \"./hotels\";\nimport { Hotel } from \"../actions/action\";\n\nexport interface StoreState {\n  hotels: Hotel[];\n}\n\nexport default combineReducers<StoreState>({\n  hotels: hotelsReducer,\n});\n","import { Action, ActionTypes } from \"../actions/types\";\nimport { Hotel } from \"../actions/action\";\n\nexport const hotelsReducer = (state: Hotel[] = [], action: Action) => {\n  switch (action.type) {\n    case ActionTypes.loadHotels:\n      return action.payload;\n    default:\n      return state;\n  }\n};\n","import ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { applyMiddleware, createStore } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { createApi } from \"./api\";\nimport App from \"./components/App/App\";\nimport rootReducer from \"./reducers/root-reducer\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\n\nconst root = document.querySelector(`#root`);\n\nexport const api = createApi(() => console.log(`No Unauthorized`));\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(applyMiddleware(thunk.withExtraArgument(api)))\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  root\n);\n","import axios, { AxiosInstance, AxiosResponse, AxiosError } from \"axios\";\n\nconst TIMEOUT = 5000;\nconst BACKEND_URL = `https://6.react.pages.academy/six-cities`;\nconst UNAUTHORIZED = 401;\n\nexport function createApi(onUnauthorized: () => void): AxiosInstance {\n  const api = axios.create({\n    baseURL: BACKEND_URL,\n    timeout: TIMEOUT,\n    withCredentials: true,\n  });\n\n  const onSuccess = (response: AxiosResponse): AxiosResponse => response;\n\n  const onFail = (err: AxiosError): void => {\n    const response = err.response;\n\n    if (response && response.status === UNAUTHORIZED) {\n      onUnauthorized();\n\n      throw err;\n    }\n\n    throw err;\n  };\n\n  api.interceptors.response.use(onSuccess, onFail);\n\n  return api;\n}\n"],"sourceRoot":""}