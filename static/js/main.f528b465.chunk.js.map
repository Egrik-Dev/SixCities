{"version":3,"sources":["const.ts","state/action-types/index.ts","utils.ts","components/OfferCard/OfferCard.tsx","state/action-creators/index.ts","state/reducers/hotels.ts","state/reducers/city.ts","state/reducers/user.ts","state/reducers/index.ts","hooks/useActions.ts","components/OfferList/OfferList.tsx","hooks/useTypesSelector.ts","components/Map/Map.tsx","components/CityTabs/CityTabs.tsx","components/SortingItem/SortingItem.tsx","components/SortingOptions/SortingOptions.tsx","components/MainEmpty/MainEmpty.tsx","selectors/type-selector.tsx","components/Main/Main.tsx","components/Login/Login.tsx","components/FavoriteCard/FavoriteCard.tsx","components/FavoriteOfferList/FavoriteOfferList.tsx","components/FavoritesEmpty/FavoritesEmpty.tsx","components/Favorites/Favorites.tsx","components/OfferImage/OfferImage.tsx","components/NewComment/NewComment.tsx","components/Review/Review.tsx","components/ReviewsList/ReviewsList.tsx","components/Room/Room.tsx","components/App/App.tsx","index.tsx","api.ts"],"names":["Months","sortTypeList","AppRoute","ActionTypes","cities","calculateRating","rating","Math","round","OfferCard","hotel","className","onHoverHandler","onBookmarkClick","isFavorite","preview_image","title","price","type","onMouseEnter","to","id","src","width","height","alt","onClick","xlinkHref","style","React","memo","fetchHotels","dispatch","_getState","api","get","then","data","LOAD_HOTELS","payload","catch","fetchReviews","_dispatch","fetchNearbyHotels","fetchFavoriteHotels","checkAuthAction","setUserName","email","changeAuthStatus","authAction","password","post","postReview","comment","changeFavoriteStatus","status","updateHotels","getState","_api","updatedHotelList","hotels","updatedHotel","hotelIndex","findIndex","slice","concat","length","updateHotelsList","UPDATE_HOTELS","changeCity","CHANGE_CITY","changeSortType","sortName","CHANGE_SORT_TYPE","changeActiveOffer","CHANGE_ACTIVE_OFFER","CHANGE_AUTH_STATUS","userName","SET_USER_NAME","initialState","sortType","activeOffer","city","reducers","combineReducers","state","action","Object","assign","currentCity","user","useActions","useDispatch","bindActionCreators","actionCreators","OfferList","classNameMainPage","classNameOfferPlace","useCallback","hotelClicked","is_favorite","Number","map","i","useTypedSelector","useSelector","Map","latitude","longitude","zoom","useState","mapState","setMap","pinsGroup","setPinsGroup","pin","leaflet","icon","iconUrl","iconSize","activePin","renderMarkers","markers","forEach","offerCords","location","marker","bindPopup","push","markersGroup","layerGroup","addTo","useEffect","center","zoomControl","setView","tileLayer","attribution","initialMap","clearLayers","CityTabs","onTabCityClick","href","SortingItem","isActive","itemName","onTypeSortClick","tabIndex","arrSortTypeList","values","SortingOptions","changeType","evt","selectedSortType","currentTarget","textContent","method","sortOption","MainEmpty","getSortedHotels","createSelector","filteredHotels","filter","name","POPULAR","PRICE_HIGH_TO_LOW","sort","a","b","PRICE_LOW_TO_HIGH","TOP_RATED_FIRST","Main","selectedCity","text","Login","setUser","setPassword","onSubmit","preventDefault","onChange","e","value","placeholder","required","FavoriteCard","props","FavoriteOfferList","filterdOffers","filterOffersByCity","FavoritesEmpty","Favorites","favoriteOffers","SetFavoriteOffers","onCityClick","favoriteCities","favoriteHotels","Set","add","Array","from","getUniqueArrayCities","OfferImage","image","ratingTitles","NewComment","updateComments","setRating","setComment","formRef","createRef","ratingArr","fill","onChangeRating","onChangeText","onSubmitForm","form","current","reset","ref","htmlFor","_item","array","Fragment","disabled","Review","review","avatar_url","dateTime","String","date","formattedDate","Date","parse","year","getFullYear","month","getMonth","getDate","ReviewsList","reviews","quantityReviews","Room","setHotel","setReviews","nearbyHotels","setNearbyHotels","window","scrollTo","find","comments","images","is_premium","bedrooms","max_adults","goods","description","host","is_pro","offerImages","good","App","loadingFlag","setLoadingFlag","Promise","all","exact","path","render","offerProps","match","params","root","document","querySelector","onUnauthorized","axios","create","baseURL","timeout","withCredentials","interceptors","response","use","err","createApi","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","withExtraArgument","ReactDOM"],"mappings":"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","file":"static/js/main.f528b465.chunk.js","sourcesContent":["export const AppRoute = {\n  ROOT: `/`,\n  OFFER: `/offer`,\n  LOGIN: `/login`,\n  FAVORITES: `/favorites`,\n};\n\nexport enum Months {\n  January,\n  February,\n  March,\n  April,\n  May,\n  June,\n  July,\n  August,\n  September,\n  October,\n  November,\n  December,\n}\n\nexport enum sortTypeList {\n  POPULAR = `Popular`,\n  PRICE_LOW_TO_HIGH = `Price: low to high`,\n  PRICE_HIGH_TO_LOW = `Price: high to low`,\n  TOP_RATED_FIRST = `Top rated first`,\n}\n\nexport const cities = [\n  `Paris`,\n  `Cologne`,\n  `Brussels`,\n  `Amsterdam`,\n  `Hamburg`,\n  `Dusseldorf`,\n];\n","export enum ActionTypes {\n  LOAD_HOTELS = `load_hotels`,\n  CHANGE_CITY = `change_city`,\n  CHANGE_SORT_TYPE = `change_sort_type`,\n  CHANGE_ACTIVE_OFFER = `change_active_offer`,\n  CHANGE_AUTH_STATUS = `change_auth_status`,\n  SET_USER_NAME = `set_user_name`,\n  UPDATE_HOTELS = `update_hotels`,\n}\n","import { sortTypeList } from \"./const\";\nimport { Hotel } from \"./types\";\n\nexport const calculateRating = (rating: number): number => {\n  const roundedRating = Math.round(rating);\n\n  switch (roundedRating) {\n    case 5:\n      return 100;\n    case 4:\n      return 80;\n    case 3:\n      return 60;\n    case 2:\n      return 40;\n    case 1:\n      return 20;\n    default:\n      return 0;\n  }\n};\n\nexport const getUniqueArrayCities = (favoriteHotels: Hotel[]): string[] => {\n  const cities: Set<string> = new Set();\n  favoriteHotels.forEach(\n    (hotel: Hotel): Set<string> => cities.add(hotel.city.name)\n  );\n  return Array.from(cities);\n};\n\nexport const sortingHotels = (\n  hotels: Hotel[],\n  sortName: string,\n  city: string\n) => {\n  const filteredHotels = hotels.filter(\n    (hotel: Hotel): boolean => hotel.city.name === city\n  );\n\n  switch (sortName) {\n    case sortTypeList.POPULAR:\n      return filteredHotels;\n    case sortTypeList.PRICE_HIGH_TO_LOW:\n      return filteredHotels\n        .sort((a: Hotel, b: Hotel) => b.price - a.price)\n        .slice();\n    case sortTypeList.PRICE_LOW_TO_HIGH:\n      return filteredHotels\n        .sort((a: Hotel, b: Hotel) => a.price - b.price)\n        .slice();\n    case sortTypeList.TOP_RATED_FIRST:\n      return filteredHotels\n        .sort((a: Hotel, b: Hotel) => b.rating - a.rating)\n        .slice();\n    default:\n      return filteredHotels;\n  }\n};\n\nexport const updateHotelsList = (\n  hotels: Hotel[],\n  updatedHotel: Hotel\n): Hotel[] => {\n  const hotelIndex = hotels.findIndex(\n    (hotel: Hotel) => hotel.id === updatedHotel.id\n  );\n\n  return hotels\n    .slice(0, hotelIndex)\n    .concat(updatedHotel)\n    .concat(hotels.slice(hotelIndex + 1, hotels.length));\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Hotel } from \"../../types\";\nimport { calculateRating } from \"../../utils\";\nimport { AppRoute } from \"../../const\";\n\ninterface OfferCardProps {\n  hotel: Hotel;\n  onHoverHandler?: (hotel: Hotel) => void; // Исправить\n  onBookmarkClick: Function;\n  className: string;\n  isFavorite: boolean;\n}\n\nconst OfferCard = ({\n  hotel,\n  className,\n  onHoverHandler,\n  onBookmarkClick,\n  isFavorite,\n}: OfferCardProps): JSX.Element => {\n  const { preview_image, title, price, rating, type } = hotel;\n\n  return (\n    <article\n      className={className}\n      onMouseEnter={() => onHoverHandler && onHoverHandler(hotel)} // Исправить\n    >\n      <div className=\"cities__image-wrapper place-card__image-wrapper\">\n        <Link to={`${AppRoute.OFFER}/${hotel.id}`}>\n          <img\n            className=\"place-card__image\"\n            src={preview_image}\n            width=\"260\"\n            height=\"200\"\n            alt={title}\n          />\n        </Link>\n      </div>\n      <div className=\"place-card__info\">\n        <div className=\"place-card__price-wrapper\">\n          <div className=\"place-card__price\">\n            <b className=\"place-card__price-value\">&euro;{price}</b>\n            <span className=\"place-card__price-text\">&#47;&nbsp;night</span>\n          </div>\n          <button\n            className={\n              isFavorite\n                ? `place-card__bookmark-button place-card__bookmark-button--active button`\n                : `place-card__bookmark-button button`\n            }\n            type=\"button\"\n            onClick={() => onBookmarkClick(hotel)}\n          >\n            <svg className=\"place-card__bookmark-icon\" width=\"18\" height=\"19\">\n              <use xlinkHref=\"#icon-bookmark\"></use>\n            </svg>\n            <span className=\"visually-hidden\">To bookmarks</span>\n          </button>\n        </div>\n        <div className=\"place-card__rating rating\">\n          <div className=\"place-card__stars rating__stars\">\n            <span style={{ width: `${calculateRating(rating)}%` }}></span>\n            <span className=\"visually-hidden\">Rating</span>\n          </div>\n        </div>\n        <h2 className=\"place-card__name\">\n          <Link to={`${AppRoute.OFFER}/${hotel.id}`}>{title}</Link>\n        </h2>\n        <p className=\"place-card__type\">{type}</p>\n      </div>\n    </article>\n  );\n};\n\nexport default React.memo(OfferCard);\n","import { Dispatch } from \"redux\";\nimport { AxiosInstance, AxiosResponse } from \"axios\";\nimport { Action } from \"../actions\";\nimport { ActionTypes } from \"../action-types\";\nimport { Hotel, Reviews, User } from \"../../types\";\nimport { RootState } from \"../reducers\";\nimport { updateHotelsList } from \"../../utils\";\n\nexport const fetchHotels = () => (\n  dispatch: Dispatch<Action>,\n  _getState: () => {},\n  api: AxiosInstance\n): Promise<void> =>\n  api\n    .get(`/hotels`)\n    .then(({ data }: { data: Hotel[] }) => {\n      dispatch({\n        type: ActionTypes.LOAD_HOTELS,\n        payload: data,\n      });\n    })\n    .catch(() => {\n      dispatch({\n        type: ActionTypes.LOAD_HOTELS,\n        payload: [],\n      });\n    });\n\nexport const fetchReviews = (id: string) => (\n  _dispatch: Dispatch,\n  _getState: () => {},\n  api: AxiosInstance\n): Promise<AxiosResponse<Reviews[]>> => api.get(`/comments/${id}`);\n\nexport const fetchNearbyHotels = (id: string) => (\n  _dispatch: Dispatch,\n  _getState: () => {},\n  api: AxiosInstance\n): Promise<AxiosResponse> => api.get(`/hotels/${id}/nearby`);\n\nexport const fetchFavoriteHotels = () => (\n  _dispatch: Dispatch,\n  _getState: () => {},\n  api: AxiosInstance\n): Promise<AxiosResponse<Hotel[]>> => api.get(`/favorite`);\n\nexport const checkAuthAction = () => (\n  dispatch: Dispatch,\n  _getState: RootState,\n  api: AxiosInstance\n): void => {\n  api.get(`/login`).then(({ data }: { data: User }) => {\n    dispatch(setUserName(data.email));\n    dispatch(changeAuthStatus(`AUTH`));\n  });\n};\n\nexport const authAction = (email: string, password: string) => (\n  dispatch: Dispatch,\n  _getState: RootState,\n  api: AxiosInstance\n): Promise<void> =>\n  api.post(`/login`, { email, password }).then(() => {\n    dispatch(changeAuthStatus(`AUTH`));\n    dispatch(setUserName(email));\n  });\n\nexport const postReview = (comment: string, rating: number, id: string) => (\n  _dispatch: Dispatch,\n  _getState: RootState,\n  api: AxiosInstance\n) => api.post(`/comments/${id}`, { comment, rating });\n\nexport const changeFavoriteStatus = (id: number, status: number) => (\n  _dispatch: Dispatch,\n  _getState: RootState,\n  api: AxiosInstance\n) => api.post(`/favorite/${id}/${status}`);\n\nexport const updateHotels = (hotel: Hotel) => (\n  dispatch: Dispatch,\n  getState: () => RootState,\n  _api: AxiosInstance\n) => {\n  const { hotels } = getState().hotels;\n\n  const updatedHotelList = updateHotelsList(hotels, hotel);\n\n  dispatch({\n    type: ActionTypes.UPDATE_HOTELS,\n    payload: updatedHotelList,\n  });\n};\n\nexport const changeCity = (data: string) => ({\n  type: ActionTypes.CHANGE_CITY,\n  payload: data,\n});\n\nexport const changeSortType = (sortName: string) => ({\n  type: ActionTypes.CHANGE_SORT_TYPE,\n  payload: sortName,\n});\n\nexport const changeActiveOffer = (hotel: Hotel) => ({\n  type: ActionTypes.CHANGE_ACTIVE_OFFER,\n  payload: hotel,\n});\n\nexport const changeAuthStatus = (status: string) => ({\n  type: ActionTypes.CHANGE_AUTH_STATUS,\n  payload: status,\n});\n\nexport const setUserName = (userName: string) => ({\n  type: ActionTypes.SET_USER_NAME,\n  payload: userName,\n});\n","import { ActionTypes } from \"../action-types\";\nimport { Action } from \"../actions\";\nimport { Hotel } from \"../../types\";\n\nconst defaultSortType = `Popular`;\n\ninterface HotelsState {\n  hotels: Hotel[];\n  sortType: string;\n  activeOffer: Hotel | {};\n}\n\nconst initialState = {\n  hotels: [],\n  sortType: defaultSortType,\n  activeOffer: {},\n};\n\nexport const hotelsReducer = (\n  state: HotelsState = initialState,\n  action: Action\n): HotelsState => {\n  switch (action.type) {\n    case ActionTypes.LOAD_HOTELS:\n      return Object.assign({}, state, { hotels: action.payload });\n    case ActionTypes.CHANGE_SORT_TYPE:\n      return Object.assign({}, state, { sortType: action.payload });\n    case ActionTypes.CHANGE_ACTIVE_OFFER:\n      return Object.assign({}, state, { activeOffer: action.payload });\n    case ActionTypes.UPDATE_HOTELS:\n      return Object.assign({}, state, { hotels: action.payload });\n    default:\n      return state;\n  }\n};\n","import { ActionTypes } from \"../action-types\";\nimport { Action } from \"../actions\";\n\ninterface cityState {\n  city: string;\n}\n\nconst initialState = {\n  city: `Amsterdam`,\n};\n\nexport const cityReducer = (\n  state: cityState = initialState,\n  action: Action\n): cityState => {\n  switch (action.type) {\n    case ActionTypes.CHANGE_CITY:\n      return { city: action.payload };\n    default:\n      return state;\n  }\n};\n","import { Action } from \"../actions\";\nimport { ActionTypes } from \"../action-types\";\n\ninterface userState {\n  status: string;\n  userName: string;\n}\n\nconst initialState = {\n  status: `NO_AUTH`,\n  userName: ``,\n};\n\nexport const userReducer = (\n  state: userState = initialState,\n  action: Action\n): userState => {\n  switch (action.type) {\n    case ActionTypes.CHANGE_AUTH_STATUS:\n      return Object.assign({}, state, { status: action.payload });\n    case ActionTypes.SET_USER_NAME:\n      return Object.assign({}, state, { userName: action.payload });\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\nimport { hotelsReducer } from \"./hotels\";\nimport { cityReducer } from \"./city\";\nimport { userReducer } from \"./user\";\n\nconst reducers = combineReducers({\n  hotels: hotelsReducer,\n  currentCity: cityReducer,\n  user: userReducer,\n});\n\nexport default reducers;\nexport type RootState = ReturnType<typeof reducers>;\n","import { useDispatch } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { actionCreators } from \"../state\";\n\nexport const useActions = () => {\n  const dispatch = useDispatch();\n\n  return bindActionCreators(actionCreators, dispatch);\n};\n","import React from \"react\";\nimport OfferCard from \"../OfferCard/OfferCard\";\nimport { Hotel } from \"../../types\";\nimport { useActions } from \"../../hooks/useActions\";\n\ninterface OfferListProps {\n  hotels: Hotel[];\n  classNameMainPage: string;\n  classNameOfferPlace: string;\n}\n\ninterface OfferListActions {\n  changeActiveOffer: Function;\n  changeFavoriteStatus: Function;\n  updateHotels: Function;\n}\n\nexport const OfferList = ({\n  hotels,\n  classNameMainPage,\n  classNameOfferPlace,\n}: OfferListProps) => {\n  const {\n    changeActiveOffer,\n    changeFavoriteStatus,\n    updateHotels,\n  }: OfferListActions = useActions();\n\n  const onHoverHandler = React.useCallback((hotel: Hotel): void => {\n    changeActiveOffer(hotel);\n  }, []);\n\n  const onBookmarkClick = React.useCallback((hotelClicked: Hotel): void => {\n    hotelClicked.is_favorite = !hotelClicked.is_favorite;\n\n    changeFavoriteStatus(\n      hotelClicked.id,\n      Number(hotelClicked.is_favorite)\n    ).then(({ data }: { data: Hotel }) => {\n      updateHotels(data);\n    });\n  }, []);\n\n  return (\n    <div className={classNameOfferPlace}>\n      {hotels.map(\n        (hotel: Hotel, i: number): JSX.Element => (\n          <OfferCard\n            key={i}\n            hotel={hotel}\n            isFavorite={hotel.is_favorite}\n            onHoverHandler={onHoverHandler}\n            className={classNameMainPage}\n            onBookmarkClick={onBookmarkClick}\n          />\n        )\n      )}\n    </div>\n  );\n};\n","import { TypedUseSelectorHook, useSelector } from \"react-redux\";\nimport { RootState } from \"../state\";\n\nexport const useTypedSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import React, { useState } from \"react\";\nimport leaflet, { LatLngExpression, LatLngTuple } from \"leaflet\";\nimport { Hotel } from \"../../types\";\nimport \"leaflet/dist/leaflet.css\";\nimport { useTypedSelector } from \"../../hooks/useTypesSelector\";\n\ntype OwnProps = {\n  hotels: Hotel[];\n  city: {\n    latitude: number;\n    longitude: number;\n    zoom: number;\n  };\n};\n\nexport const Map = ({ hotels, city }: OwnProps): JSX.Element => {\n  const { latitude, longitude, zoom } = city;\n  const { activeOffer } = useTypedSelector((state) => state.hotels);\n  const [mapState, setMap] = useState<leaflet.Map>();\n  const [pinsGroup, setPinsGroup] = useState<leaflet.LayerGroup>();\n\n  const pin = leaflet.icon({\n    iconUrl: `img/pin.svg`,\n    iconSize: [27, 39],\n  });\n\n  const activePin = leaflet.icon({\n    iconUrl: `img/pin-active.svg`,\n    iconSize: [27, 39],\n  });\n\n  const renderMarkers = (map: leaflet.Map): void => {\n    const markers: leaflet.Marker[] = [];\n\n    hotels.forEach((hotel: Hotel): void => {\n      const offerCords: LatLngTuple = [\n        hotel.location.latitude,\n        hotel.location.longitude,\n      ];\n\n      const marker = leaflet\n        .marker(\n          offerCords,\n          hotel === activeOffer ? { icon: activePin } : { icon: pin }\n        )\n        .bindPopup(\n          `\n          <div style=\"text-align: center\">\n            ${hotel.title}<br>\n            ${hotel.type}\n          </div>\n          `\n        );\n\n      markers.push(marker);\n    });\n\n    const markersGroup = leaflet.layerGroup(markers);\n    setPinsGroup(markersGroup);\n    markersGroup.addTo(map);\n  };\n\n  const initialMap = (): void => {\n    const city: LatLngExpression = [latitude, longitude];\n\n    const map = leaflet.map(`map`, {\n      center: city,\n      zoom: zoom,\n      zoomControl: false,\n    });\n\n    setMap(map);\n\n    map.setView(city, zoom);\n\n    leaflet\n      .tileLayer(\n        `https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png`,\n        {\n          attribution: `&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>`,\n        }\n      )\n      .addTo(map);\n\n    renderMarkers(map);\n  };\n\n  React.useEffect((): void => {\n    initialMap();\n  }, []);\n\n  React.useEffect((): void => {\n    if (mapState) {\n      pinsGroup?.clearLayers();\n      mapState.setView([latitude, longitude], zoom);\n      renderMarkers(mapState);\n    }\n  }, [activeOffer, hotels]);\n\n  return <div id=\"map\" style={{ height: `100%` }} />;\n};\n","import React from \"react\";\nimport { cities } from \"../../const\";\n\ntype CityTabsProps = {\n  currentCity: string;\n  onTabCityClick: (\n    evt: React.MouseEvent<HTMLAnchorElement, MouseEvent>\n  ) => void;\n};\n\nexport const CityTabs: React.FC<CityTabsProps> = ({\n  currentCity,\n  onTabCityClick,\n}) => {\n  return (\n    <ul className=\"locations__list tabs__list\">\n      {cities.map(\n        (city: string, i: number): JSX.Element => (\n          <li key={i} className=\"locations__item\">\n            <a\n              className={\n                city === currentCity\n                  ? `locations__item-link tabs__item tabs__item--active`\n                  : `locations__item-link tabs__item`\n              }\n              onClick={onTabCityClick}\n              href=\"#\"\n            >\n              <span>{city}</span>\n            </a>\n          </li>\n        )\n      )}\n    </ul>\n  );\n};\n","type SortingItemProps = {\n  isActive: boolean;\n  itemName: string;\n  onTypeSortClick: (evt: React.MouseEvent<HTMLLIElement, MouseEvent>) => void;\n};\n\nexport const SortingItem = ({\n  isActive,\n  itemName,\n  onTypeSortClick,\n}: SortingItemProps): JSX.Element => {\n  return (\n    <li\n      onClick={onTypeSortClick}\n      className={\n        isActive ? `places__option places__option--active` : `places__option`\n      }\n      tabIndex={0}\n    >\n      {itemName}\n    </li>\n  );\n};\n","import React, { useCallback } from \"react\";\nimport { SortingItem } from \"../SortingItem/SortingItem\";\nimport { useActions } from \"../../hooks/useActions\";\nimport { useTypedSelector } from \"../../hooks/useTypesSelector\";\nimport { sortTypeList } from \"../../const\";\n\nconst arrSortTypeList = Object.values(sortTypeList);\n\nexport const SortingOptions: React.FC = () => {\n  const { changeSortType } = useActions();\n  const { sortType } = useTypedSelector((state) => state.hotels);\n\n  const changeType = useCallback(\n    (evt: React.MouseEvent<HTMLLIElement, MouseEvent>): void => {\n      const selectedSortType = evt.currentTarget.textContent;\n\n      if (selectedSortType) {\n        changeSortType(selectedSortType);\n      }\n    },\n    []\n  );\n\n  return (\n    <form className=\"places__sorting\" action=\"#\" method=\"get\">\n      <span className=\"places__sorting-caption\">Sort by</span>\n      <span className=\"places__sorting-type\" tabIndex={0}>\n        {sortType}\n        <svg className=\"places__sorting-arrow\" width=\"7\" height=\"4\">\n          <use xlinkHref=\"#icon-arrow-select\"></use>\n        </svg>\n      </span>\n      <ul className=\"places__options places__options--custom\">\n        {arrSortTypeList.map(\n          (sortOption: string, i: number): JSX.Element => (\n            <SortingItem\n              key={i}\n              isActive={sortType === sortOption}\n              itemName={sortOption}\n              onTypeSortClick={changeType}\n            />\n          )\n        )}\n      </ul>\n    </form>\n  );\n};\n","import { CityTabs } from \"../CityTabs/CityTabs\";\n\ntype MainEmptyProps = {\n  city: string;\n  onTabCityClick: (\n    evt: React.MouseEvent<HTMLAnchorElement, MouseEvent>\n  ) => void;\n};\n\nexport const MainEmpty: React.FC<MainEmptyProps> = ({\n  city,\n  onTabCityClick,\n}) => {\n  return (\n    <main className=\"page__main page__main--index page__main--index-empty\">\n      <h1 className=\"visually-hidden\">Cities</h1>\n      <div className=\"tabs\">\n        <section className=\"locations container\">\n          <CityTabs currentCity={city} onTabCityClick={onTabCityClick} />\n        </section>\n      </div>\n      <div className=\"cities\">\n        <div className=\"cities__places-container cities__places-container--empty container\">\n          <section className=\"cities__no-places\">\n            <div className=\"cities__status-wrapper tabs__content\">\n              <b className=\"cities__status\">No places to stay available</b>\n              <p className=\"cities__status-description\">\n                We could not find any property available at the moment in {city}\n              </p>\n            </div>\n          </section>\n          <div className=\"cities__right-section\"></div>\n        </div>\n      </div>\n    </main>\n  );\n};\n","import { createSelector } from \"reselect\";\nimport { Hotel } from \"../types\";\nimport { sortingHotels } from \"../utils\";\nimport { RootState } from \"../state\";\n\nexport const getHotels = (state: RootState): Hotel[] => state.hotels.hotels;\nexport const getActiveType = (state: RootState): string =>\n  state.hotels.sortType;\nexport const getCity = (state: RootState): any => state.currentCity.city;\n\nexport const getSortedHotels = createSelector(\n  getHotels,\n  getActiveType,\n  getCity,\n  sortingHotels\n);\n","import { Link } from \"react-router-dom\";\nimport { OfferList } from \"../OfferList/OfferList\";\nimport { Map } from \"../Map/Map\";\nimport { CityTabs } from \"../CityTabs/CityTabs\";\nimport { SortingOptions } from \"../SortingOptions/SortingOptions\";\nimport { MainEmpty } from \"../MainEmpty/MainEmpty\";\nimport { AppRoute } from \"../../const\";\nimport { useTypedSelector } from \"../../hooks/useTypesSelector\";\nimport { useActions } from \"../../hooks/useActions\";\nimport { useCallback } from \"react\";\nimport { getSortedHotels } from \"../../selectors/type-selector\";\n\ntype AppDispatchProps = {\n  changeCity: Function;\n};\n\nexport const Main = (): JSX.Element => {\n  const { changeCity }: AppDispatchProps = useActions();\n  const { city } = useTypedSelector((state) => state.currentCity);\n  const { status } = useTypedSelector((state) => state.user);\n  const { userName } = useTypedSelector((state) => state.user);\n  const hotels = getSortedHotels(useTypedSelector((state) => state));\n\n  const onTabCityClick = useCallback(\n    (evt: React.MouseEvent<HTMLAnchorElement, MouseEvent>): void => {\n      const selectedCity = evt.currentTarget.text;\n      if (city !== selectedCity) {\n        changeCity(selectedCity);\n      }\n    },\n    [city]\n  );\n\n  return (\n    <div className=\"page page--gray page--main\">\n      <header className=\"header\">\n        <div className=\"container\">\n          <div className=\"header__wrapper\">\n            <div className=\"header__left\">\n              <a className=\"header__logo-link\">\n                <img\n                  className=\"header__logo\"\n                  src=\"img/logo.svg\"\n                  alt=\"6 cities logo\"\n                  width=\"81\"\n                  height=\"41\"\n                />\n              </a>\n            </div>\n            <nav className=\"header__nav\">\n              <ul className=\"header__nav-list\">\n                <li className=\"header__nav-item user\">\n                  <Link\n                    className=\"header__nav-link header__nav-link--profile\"\n                    to={\n                      status === `NO_AUTH` ? AppRoute.LOGIN : AppRoute.FAVORITES\n                    }\n                  >\n                    <div className=\"header__avatar-wrapper user__avatar-wrapper\"></div>\n                    {status === `NO_AUTH` ? (\n                      <span className=\"header__login\">Sign in</span>\n                    ) : (\n                      <span className=\"header__user-name user__name\">\n                        {userName}\n                      </span>\n                    )}\n                  </Link>\n                </li>\n              </ul>\n            </nav>\n          </div>\n        </div>\n      </header>\n\n      {hotels.length === 0 ? (\n        <MainEmpty city={city} onTabCityClick={onTabCityClick} />\n      ) : (\n        <main className=\"page__main page__main--index\">\n          <h1 className=\"visually-hidden\">Cities</h1>\n          <div className=\"tabs\">\n            <section className=\"locations container\">\n              <CityTabs currentCity={city} onTabCityClick={onTabCityClick} />\n            </section>\n          </div>\n          <div className=\"cities\">\n            <div className=\"cities__places-container container\">\n              <section className=\"cities__places places\">\n                <h2 className=\"visually-hidden\">Places</h2>\n                <b className=\"places__found\">\n                  {hotels.length} places to stay in {city}\n                </b>\n                <SortingOptions />\n                <OfferList\n                  hotels={hotels}\n                  classNameMainPage={`cities__place-card place-card`}\n                  classNameOfferPlace={`cities__places-list places__list tabs__content`}\n                />\n              </section>\n              <div className=\"cities__right-section\">\n                <section className=\"cities__map map\">\n                  {hotels.length > 0 && (\n                    <Map hotels={hotels} city={hotels[0].city.location} />\n                  )}\n                </section>\n              </div>\n            </div>\n          </div>\n        </main>\n      )}\n    </div>\n  );\n};\n","import { useState } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { AppRoute } from \"../../const\";\nimport { useActions } from \"../../hooks/useActions\";\nimport { useTypedSelector } from \"../../hooks/useTypesSelector\";\n\nexport const Login = (): JSX.Element => {\n  const [user, setUser] = useState<string>();\n  const [password, setPassword] = useState<string>();\n  const { authAction } = useActions();\n  const { status } = useTypedSelector((state) => state.user);\n\n  const sendUserData = (evt: React.FormEvent<HTMLFormElement>) => {\n    evt.preventDefault();\n\n    if (user && password) authAction(user, password);\n  };\n\n  if (status === `AUTH`) {\n    return <Redirect to={AppRoute.ROOT} />;\n  }\n\n  return (\n    <div className=\"page page--gray page--login\">\n      <header className=\"header\">\n        <div className=\"container\">\n          <div className=\"header__wrapper\">\n            <div className=\"header__left\">\n              <Link className=\"header__logo-link\" to={AppRoute.ROOT}>\n                <img\n                  className=\"header__logo\"\n                  src=\"img/logo.svg\"\n                  alt=\"6 cities logo\"\n                  width=\"81\"\n                  height=\"41\"\n                />\n              </Link>\n            </div>\n            <nav className=\"header__nav\">\n              <ul className=\"header__nav-list\">\n                <li className=\"header__nav-item user\">\n                  <a className=\"header__nav-link header__nav-link--profile\">\n                    <div className=\"header__avatar-wrapper user__avatar-wrapper\"></div>\n                    <span className=\"header__login\">Sign in</span>\n                  </a>\n                </li>\n              </ul>\n            </nav>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"page__main page__main--login\">\n        <div className=\"page__login-container container\">\n          <section className=\"login\">\n            <h1 className=\"login__title\">Sign in</h1>\n            <form\n              className=\"login__form form\"\n              action=\"#\"\n              method=\"post\"\n              onSubmit={sendUserData}\n            >\n              <div className=\"login__input-wrapper form__input-wrapper\">\n                <label className=\"visually-hidden\">E-mail</label>\n                <input\n                  onChange={(e) => setUser(e.currentTarget.value)}\n                  className=\"login__input form__input\"\n                  type=\"email\"\n                  name=\"email\"\n                  placeholder=\"Email\"\n                  required={true}\n                />\n              </div>\n              <div className=\"login__input-wrapper form__input-wrapper\">\n                <label className=\"visually-hidden\">Password</label>\n                <input\n                  onChange={(e) => setPassword(e.currentTarget.value)}\n                  className=\"login__input form__input\"\n                  type=\"password\"\n                  name=\"password\"\n                  placeholder=\"Password\"\n                  required={true}\n                />\n              </div>\n              <button\n                className=\"login__submit form__submit button\"\n                type=\"submit\"\n              >\n                Sign in\n              </button>\n            </form>\n          </section>\n          <section className=\"locations locations--login locations--current\">\n            <div className=\"locations__item\">\n              <Link className=\"locations__item-link\" to={AppRoute.ROOT}>\n                <span>Amsterdam</span>\n              </Link>\n            </div>\n          </section>\n        </div>\n      </main>\n    </div>\n  );\n};\n","import { calculateRating } from \"../../utils\";\nimport { Hotel } from \"../../types/index\";\nimport { Link } from \"react-router-dom\";\nimport { AppRoute } from \"../../const\";\n\ninterface OwnProps {\n  hotel: Hotel;\n}\n\nexport const FavoriteCard = (props: OwnProps): JSX.Element => {\n  const {\n    title,\n    price,\n    is_favorite,\n    rating,\n    type,\n    preview_image,\n    id,\n  } = props.hotel;\n\n  return (\n    <article className=\"favorites__card place-card\">\n      <div className=\"favorites__image-wrapper place-card__image-wrapper\">\n        <Link to={`${AppRoute.OFFER}/${id}`}>\n          <img\n            className=\"place-card__image\"\n            src={preview_image}\n            width=\"150\"\n            height=\"110\"\n            alt={title}\n          />\n        </Link>\n      </div>\n      <div className=\"favorites__card-info place-card__info\">\n        <div className=\"place-card__price-wrapper\">\n          <div className=\"place-card__price\">\n            <b className=\"place-card__price-value\">&euro;{price}</b>\n            <span className=\"place-card__price-text\">&#47;&nbsp;night</span>\n          </div>\n          <button\n            className={\n              is_favorite\n                ? `place-card__bookmark-button place-card__bookmark-button--active button`\n                : `place-card__bookmark-button button`\n            }\n            type=\"button\"\n          >\n            <svg className=\"place-card__bookmark-icon\" width=\"18\" height=\"19\">\n              <use xlinkHref=\"#icon-bookmark\"></use>\n            </svg>\n            <span className=\"visually-hidden\">In bookmarks</span>\n          </button>\n        </div>\n        <div className=\"place-card__rating rating\">\n          <div className=\"place-card__stars rating__stars\">\n            <span style={{ width: `${calculateRating(rating)}%` }}></span>\n            <span className=\"visually-hidden\">Rating</span>\n          </div>\n        </div>\n        <h2 className=\"place-card__name\">\n          <Link to={`${AppRoute.OFFER}/${id}`}>{title}</Link>\n        </h2>\n        <p className=\"place-card__type\">{type}</p>\n      </div>\n    </article>\n  );\n};\n","import { Hotel } from \"../../types/index\";\nimport { FavoriteCard } from \"../FavoriteCard/FavoriteCard\";\n\ninterface OwnProps {\n  hotels: Hotel[];\n  city: string;\n}\n\nexport const FavoriteOfferList = ({ hotels, city }: OwnProps): JSX.Element => {\n  const filterOffersByCity = (hotels: Hotel[]): Hotel[] => {\n    return hotels.filter((hotel: Hotel): boolean => hotel.city.name === city);\n  };\n\n  const filterdOffers = filterOffersByCity(hotels);\n\n  return (\n    <>\n      {filterdOffers.map(\n        (hotel: Hotel, i: number): JSX.Element => (\n          <FavoriteCard key={i} hotel={hotel} />\n        )\n      )}\n    </>\n  );\n};\n","export const FavoritesEmpty: React.FC = () => {\n  return (\n    <main className=\"page__main page__main--favorites page__main--favorites-empty\">\n      <div className=\"page__favorites-container container\">\n        <section className=\"favorites favorites--empty\">\n          <h1 className=\"visually-hidden\">Favorites (empty)</h1>\n          <div className=\"favorites__status-wrapper\">\n            <b className=\"favorites__status\">Nothing yet saved.</b>\n            <p className=\"favorites__status-description\">\n              Save properties to narrow down search or plan your future trips.\n            </p>\n          </div>\n        </section>\n      </div>\n    </main>\n  );\n};\n","import React from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { Hotel } from \"../../types/index\";\nimport { FavoriteOfferList } from \"../FavoriteOfferList/FavoriteOfferList\";\nimport { AppRoute } from \"../../const\";\nimport { getUniqueArrayCities } from \"../../utils\";\nimport { FavoritesEmpty } from \"../FavoritesEmpty/FavoritesEmpty\";\nimport { useActions } from \"../../hooks/useActions\";\nimport { useTypedSelector } from \"../../hooks/useTypesSelector\";\n\ntype OwnStateProps = {\n  hotels: Hotel[];\n};\n\ntype FavoritesDispatchProps = {\n  fetchFavoriteHotels: Function;\n};\n\nexport const Favorites = ({ hotels }: OwnStateProps): JSX.Element => {\n  const { changeCity } = useActions();\n  const { fetchFavoriteHotels }: FavoritesDispatchProps = useActions();\n  const { status } = useTypedSelector((state) => state.user);\n  const { userName } = useTypedSelector((state) => state.user);\n  const [favoriteOffers, SetFavoriteOffers] = React.useState<[] | Hotel[]>([]);\n\n  React.useEffect((): void => {\n    fetchFavoriteHotels().then(({ data }: { data: Hotel[] }) => {\n      SetFavoriteOffers(data);\n    });\n  }, []);\n\n  const onCityClick = React.useCallback(\n    (evt: React.MouseEvent<HTMLDivElement, MouseEvent>): void => {\n      const selectedCity = evt.currentTarget.textContent;\n      if (selectedCity) changeCity(selectedCity);\n    },\n    []\n  );\n\n  const favoriteCities = getUniqueArrayCities(favoriteOffers);\n\n  if (status === `NO_AUTH`) {\n    return <Redirect to={AppRoute.LOGIN} />;\n  }\n\n  return (\n    <div className=\"page\">\n      <header className=\"header\">\n        <div className=\"container\">\n          <div className=\"header__wrapper\">\n            <div className=\"header__left\">\n              <Link className=\"header__logo-link\" to={AppRoute.ROOT}>\n                <img\n                  className=\"header__logo\"\n                  src=\"img/logo.svg\"\n                  alt=\"6 cities logo\"\n                  width=\"81\"\n                  height=\"41\"\n                />\n              </Link>\n            </div>\n            <nav className=\"header__nav\">\n              <ul className=\"header__nav-list\">\n                <li className=\"header__nav-item user\">\n                  <Link\n                    className=\"header__nav-link header__nav-link--profile\"\n                    to={AppRoute.FAVORITES}\n                  >\n                    <div className=\"header__avatar-wrapper user__avatar-wrapper\"></div>\n                    <span className=\"header__user-name user__name\">\n                      {userName}\n                    </span>\n                  </Link>\n                </li>\n              </ul>\n            </nav>\n          </div>\n        </div>\n      </header>\n\n      {favoriteCities.length === 0 ? (\n        <FavoritesEmpty />\n      ) : (\n        <main className=\"page__main page__main--favorites\">\n          <div className=\"page__favorites-container container\">\n            <section className=\"favorites\">\n              <h1 className=\"favorites__title\">Saved listing</h1>\n              <ul className=\"favorites__list\">\n                {favoriteCities.map(\n                  (city: string, i: number): JSX.Element => (\n                    <li key={i} className=\"favorites__locations-items\">\n                      <div className=\"favorites__locations locations locations--current\">\n                        <div className=\"locations__item\" onClick={onCityClick}>\n                          <Link\n                            className=\"locations__item-link\"\n                            to={AppRoute.ROOT}\n                          >\n                            <span>{city}</span>\n                          </Link>\n                        </div>\n                      </div>\n                      <div className=\"favorites__places\">\n                        <FavoriteOfferList\n                          key={i}\n                          hotels={favoriteOffers}\n                          city={city}\n                        />\n                      </div>\n                    </li>\n                  )\n                )}\n              </ul>\n            </section>\n          </div>\n        </main>\n      )}\n      <footer className=\"footer container\">\n        <Link className=\"footer__logo-link\" to={AppRoute.ROOT}>\n          <img\n            className=\"footer__logo\"\n            src=\"img/logo.svg\"\n            alt=\"6 cities logo\"\n            width=\"64\"\n            height=\"33\"\n          />\n        </Link>\n      </footer>\n    </div>\n  );\n};\n","type OwnProps = {\n  image: string;\n  title: string;\n};\n\nexport const OfferImage = ({ image, title }: OwnProps) => {\n  return (\n    <div className=\"property__image-wrapper\">\n      <img className=\"property__image\" src={image} alt={title} />\n    </div>\n  );\n};\n","import React, { createRef } from \"react\";\nimport { useActions } from \"../../hooks/useActions\";\n\nconst ratingTitles = new Map([\n  [1, `terribly`],\n  [2, `badly`],\n  [3, `not bad`],\n  [4, `good`],\n  [5, `perfect`],\n]);\n\ntype NewCommentProps = {\n  id: string;\n  updateComments: Function;\n};\n\ntype NewCommentDispatchProps = {\n  postReview: Function;\n};\n\nexport const NewComment = ({\n  id,\n  updateComments,\n}: NewCommentProps): JSX.Element => {\n  const [rating, setRating] = React.useState<number | null>();\n  const [comment, setComment] = React.useState<string>();\n  const { postReview }: NewCommentDispatchProps = useActions();\n  const formRef = createRef<HTMLFormElement>();\n\n  const MAX_RATING = 5;\n  const MIN_CHARACTERS = 50;\n  const ratingArr: string[] = new Array(MAX_RATING).fill(``);\n\n  const onChangeRating = React.useCallback(\n    (evt: React.FormEvent<HTMLInputElement>): void => {\n      const { value } = evt.currentTarget;\n      setRating(Number(value));\n    },\n    []\n  );\n\n  const onChangeText = React.useCallback(\n    (evt: React.FormEvent<HTMLTextAreaElement>): void => {\n      const { value } = evt.currentTarget;\n      setComment(value);\n    },\n    []\n  );\n\n  const onSubmitForm = React.useCallback(\n    (evt: React.FormEvent<HTMLFormElement>): void => {\n      evt.preventDefault();\n\n      const form = formRef.current;\n\n      if (comment && rating) {\n        postReview(comment, rating, id)\n          .then(({ data }: { data: Comment[] }) => updateComments(data))\n          .then(() => {\n            setRating(null);\n            setComment(``);\n            form?.reset();\n          });\n      }\n    },\n    [rating, comment]\n  );\n\n  return (\n    <form\n      className=\"reviews__form form\"\n      action=\"#\"\n      method=\"post\"\n      onSubmit={onSubmitForm}\n      ref={formRef}\n    >\n      <label className=\"reviews__label form__label\" htmlFor=\"review\">\n        Your review\n      </label>\n      <div className=\"reviews__rating-form form__rating\">\n        {ratingArr.map(\n          (_item: string, i: number, array: string[]): JSX.Element => (\n            <React.Fragment key={i}>\n              <input\n                className=\"form__rating-input visually-hidden\"\n                name=\"rating\"\n                value={array.length - i}\n                id={`${array.length - i}-stars`}\n                type=\"radio\"\n                onChange={onChangeRating}\n              />\n              <label\n                htmlFor={`${array.length - i}-stars`}\n                className=\"reviews__rating-label form__rating-label\"\n                title={ratingTitles.get(array.length - i)}\n              >\n                <svg className=\"form__star-image\" width=\"37\" height=\"33\">\n                  <use xlinkHref=\"#icon-star\"></use>\n                </svg>\n              </label>\n            </React.Fragment>\n          )\n        )}\n      </div>\n      <textarea\n        className=\"reviews__textarea form__textarea\"\n        id=\"review\"\n        name=\"review\"\n        placeholder=\"Tell how was your stay, what you like and what can be improved\"\n        onChange={onChangeText}\n        value={comment}\n      ></textarea>\n      <div className=\"reviews__button-wrapper\">\n        <p className=\"reviews__help\">\n          To submit review please make sure to set\n          <span className=\"reviews__star\">rating</span> and describe your stay\n          with at least\n          <b className=\"reviews__text-amount\">50 characters</b>.\n        </p>\n        <button\n          className=\"reviews__submit form__submit button\"\n          type=\"submit\"\n          disabled={\n            comment && comment.length >= MIN_CHARACTERS && rating ? false : true\n          }\n        >\n          Submit\n        </button>\n      </div>\n    </form>\n  );\n};\n","import { Reviews } from \"../../types\";\nimport { calculateRating } from \"../../utils\";\nimport { Months } from \"../../const\";\n\ntype OwnProps = {\n  review: Reviews;\n};\n\nexport const Review = ({ review }: OwnProps) => {\n  const getDate = (date: Date): string => {\n    const formattedDate = new Date(Date.parse(String(date)));\n    const year = formattedDate.getFullYear();\n    const month = Months[formattedDate.getMonth()];\n    return `${month} ${year}`;\n  };\n\n  return (\n    <>\n      <div className=\"reviews__user user\">\n        <div className=\"reviews__avatar-wrapper user__avatar-wrapper\">\n          <img\n            className=\"reviews__avatar user__avatar\"\n            src={review.user.avatar_url}\n            width=\"54\"\n            height=\"54\"\n            alt=\"Reviews avatar\"\n          />\n        </div>\n        <span className=\"reviews__user-name\">{review.user.name}</span>\n      </div>\n      <div className=\"reviews__info\">\n        <div className=\"reviews__rating rating\">\n          <div className=\"reviews__stars rating__stars\">\n            <span\n              style={{ width: `${calculateRating(review.rating)}%` }}\n            ></span>\n            <span className=\"visually-hidden\">Rating</span>\n          </div>\n        </div>\n        <p className=\"reviews__text\">{review.comment}</p>\n        <time\n          className=\"reviews__time\"\n          dateTime={String(review.date).slice(0, 10)}\n        >\n          {getDate(review.date)}\n        </time>\n      </div>\n    </>\n  );\n};\n","import { Reviews } from \"../../types\";\nimport { Review } from \"../Review/Review\";\n\ntype OwnProps = {\n  reviews: Reviews[];\n};\n\nexport const ReviewsList = ({ reviews }: OwnProps) => {\n  const quantityReviews = reviews.length;\n\n  return (\n    <>\n      <h2 className=\"reviews__title\">\n        Reviews &middot;{``}\n        <span className=\"reviews__amount\">{quantityReviews}</span>\n      </h2>\n      <ul className=\"reviews__list\">\n        {reviews.map(\n          (review: Reviews, i: number): JSX.Element => (\n            <li className=\"reviews__item\" key={i}>\n              <Review review={review} />\n            </li>\n          )\n        )}\n      </ul>\n    </>\n  );\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Hotel, Reviews } from \"../../types\";\nimport { calculateRating } from \"../../utils\";\nimport { OfferImage } from \"../OfferImage/OfferImage\";\nimport { NewComment } from \"../NewComment/NewComment\";\nimport { Map } from \"../Map/Map\";\nimport { useActions } from \"../../hooks/useActions\";\nimport { AppRoute } from \"../../const\";\nimport { ReviewsList } from \"../ReviewsList/ReviewsList\";\nimport { OfferList } from \"../OfferList/OfferList\";\nimport { useTypedSelector } from \"../../hooks/useTypesSelector\";\n\ntype OwnProps = {\n  hotels: Hotel[];\n  id: string;\n};\n\ntype AppDispatchProps = {\n  fetchReviews: Function; // ToDo: Разобраться как затипизировать\n  fetchNearbyHotels: Function;\n};\n\nconst MAX_OFFER_IMAGES = 6;\n\nexport const Room = ({ hotels, id }: OwnProps): JSX.Element => {\n  const raiseOnTheTop = (): void => {\n    window.scrollTo(0, 0);\n  };\n\n  const [hotel, setHotel] = React.useState<Hotel>();\n  const [reviews, setReviews] = React.useState<Reviews[]>([]);\n  const [nearbyHotels, setNearbyHotels] = React.useState<Hotel[]>();\n  const { fetchReviews, fetchNearbyHotels }: AppDispatchProps = useActions();\n  const { userName } = useTypedSelector((state) => state.user);\n  const { status } = useTypedSelector((state) => state.user);\n\n  React.useEffect((): void => {\n    raiseOnTheTop();\n    setHotel(hotels.find((hotel: Hotel): boolean => hotel.id === Number(id)));\n  }, [hotels, id]);\n\n  React.useEffect((): void => {\n    fetchReviews(id).then(({ data }: { data: Reviews[] }) => setReviews(data));\n  }, [id]);\n\n  React.useEffect((): void => {\n    fetchNearbyHotels(id).then(({ data }: { data: Hotel[] }) =>\n      setNearbyHotels(data)\n    );\n  }, [id]);\n\n  const updateComments = React.useCallback((comments) => {\n    setReviews(comments);\n  }, []);\n\n  if (!hotel) {\n    return <div>Film not found</div>;\n  }\n\n  const {\n    images,\n    title,\n    is_premium,\n    rating,\n    type,\n    bedrooms,\n    max_adults,\n    price,\n    goods,\n    description,\n  } = hotel;\n\n  const { avatar_url, name, is_pro } = hotel.host;\n\n  const offerImages = images.slice(0, MAX_OFFER_IMAGES);\n\n  return (\n    <div className=\"page\">\n      <header className=\"header\">\n        <div className=\"container\">\n          <div className=\"header__wrapper\">\n            <div className=\"header__left\">\n              <Link className=\"header__logo-link\" to={AppRoute.ROOT}>\n                <img\n                  className=\"header__logo\"\n                  src=\"img/logo.svg\"\n                  alt=\"6 cities logo\"\n                  width=\"81\"\n                  height=\"41\"\n                />\n              </Link>\n            </div>\n            <nav className=\"header__nav\">\n              <ul className=\"header__nav-list\">\n                <li className=\"header__nav-item user\">\n                  <Link\n                    className=\"header__nav-link header__nav-link--profile\"\n                    to={AppRoute.FAVORITES}\n                  >\n                    <div className=\"header__avatar-wrapper user__avatar-wrapper\"></div>\n                    <span className=\"header__user-name user__name\">\n                      {userName}\n                    </span>\n                  </Link>\n                </li>\n              </ul>\n            </nav>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"page__main page__main--property\">\n        <section className=\"property\">\n          <div className=\"property__gallery-container container\">\n            <div className=\"property__gallery\">\n              {offerImages.map(\n                (image: string, i: number): JSX.Element => (\n                  <OfferImage key={i} image={image} title={title} />\n                )\n              )}\n            </div>\n          </div>\n          <div className=\"property__container container\">\n            <div className=\"property__wrapper\">\n              {is_premium && (\n                <div className=\"property__mark\">\n                  <span>Premium</span>\n                </div>\n              )}\n              <div className=\"property__name-wrapper\">\n                <h1 className=\"property__name\">{title}</h1>\n                <button\n                  className=\"property__bookmark-button button\"\n                  type=\"button\"\n                >\n                  <svg\n                    className=\"property__bookmark-icon\"\n                    width=\"31\"\n                    height=\"33\"\n                  >\n                    <use xlinkHref=\"#icon-bookmark\"></use>\n                  </svg>\n                  <span className=\"visually-hidden\">To bookmarks</span>\n                </button>\n              </div>\n              <div className=\"property__rating rating\">\n                <div className=\"property__stars rating__stars\">\n                  <span style={{ width: `${calculateRating(rating)}%` }}></span>\n                  <span className=\"visually-hidden\">Rating</span>\n                </div>\n                <span className=\"property__rating-value rating__value\">\n                  {rating}\n                </span>\n              </div>\n              <ul className=\"property__features\">\n                <li className=\"property__feature property__feature--entire\">\n                  {type}\n                </li>\n                <li className=\"property__feature property__feature--bedrooms\">\n                  {bedrooms} Bedrooms\n                </li>\n                <li className=\"property__feature property__feature--adults\">\n                  Max {max_adults} adults\n                </li>\n              </ul>\n              <div className=\"property__price\">\n                <b className=\"property__price-value\">&euro;{price}</b>\n                <span className=\"property__price-text\">&nbsp;night</span>\n              </div>\n              <div className=\"property__inside\">\n                <h2 className=\"property__inside-title\">What&apos;s inside</h2>\n                <ul className=\"property__inside-list\">\n                  {goods.map(\n                    (good: string, i: number): JSX.Element => (\n                      <li key={i} className=\"property__inside-item\">\n                        {good}\n                      </li>\n                    )\n                  )}\n                </ul>\n              </div>\n              <div className=\"property__host\">\n                <h2 className=\"property__host-title\">Meet the host</h2>\n                <div className=\"property__host-user user\">\n                  <div\n                    className={\n                      is_pro\n                        ? `property__avatar-wrapper property__avatar-wrapper--pro user__avatar-wrapper`\n                        : `property__avatar-wrapper user__avatar-wrapper`\n                    }\n                  >\n                    <img\n                      className=\"property__avatar user__avatar\"\n                      src={avatar_url}\n                      width=\"74\"\n                      height=\"74\"\n                      alt=\"Host avatar\"\n                    />\n                  </div>\n                  <span className=\"property__user-name\">{name}</span>\n                </div>\n                <div className=\"property__description\">\n                  <p className=\"property__text\">{description}</p>\n                </div>\n              </div>\n              <section className=\"property__reviews reviews\">\n                <ReviewsList reviews={reviews} />\n                {status === `AUTH` && (\n                  <NewComment id={id} updateComments={updateComments} />\n                )}\n              </section>\n            </div>\n          </div>\n          <section className=\"property__map map\">\n            {nearbyHotels && (\n              <Map hotels={nearbyHotels} city={hotel.city.location} />\n            )}\n          </section>\n        </section>\n        <div className=\"container\">\n          <section className=\"near-places places\">\n            <h2 className=\"near-places__title\">\n              Other places in the neighbourhood\n            </h2>\n            {nearbyHotels && (\n              <OfferList\n                hotels={nearbyHotels}\n                classNameMainPage={`near-places__card place-card`}\n                classNameOfferPlace={`near-places__list places__list`}\n              />\n            )}\n          </section>\n        </div>\n      </main>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport { Main } from \"../Main/Main\";\nimport { Login } from \"../Login/Login\";\nimport { Favorites } from \"../Favorites/Favorites\";\nimport { Room } from \"../Room/Room\";\nimport { AppRoute } from \"../../const\";\nimport { useActions } from \"../../hooks/useActions\";\nimport { useTypedSelector } from \"../../hooks/useTypesSelector\";\n\ntype AppDispatchProps = {\n  fetchHotels: Function;\n  checkAuthAction: Function;\n};\n\nconst App = (): JSX.Element => {\n  const [loadingFlag, setLoadingFlag] = React.useState(true);\n  const { fetchHotels }: AppDispatchProps = useActions();\n  const { checkAuthAction }: AppDispatchProps = useActions();\n  const { hotels } = useTypedSelector((state) => state.hotels);\n\n  React.useEffect((): void => {\n    Promise.all([fetchHotels(), checkAuthAction()]).then(() =>\n      setLoadingFlag(false)\n    );\n  }, []);\n\n  if (loadingFlag) {\n    return <div>LOADING...</div>;\n  }\n\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route exact path={AppRoute.ROOT}>\n          <Main />\n        </Route>\n        <Route exact path={AppRoute.LOGIN}>\n          <Login />\n        </Route>\n        <Route exact path={AppRoute.FAVORITES}>\n          <Favorites hotels={hotels} />\n        </Route>\n        <Route\n          exact\n          path={`${AppRoute.OFFER}/:id`}\n          render={(offerProps: any) => (\n            <Room hotels={hotels} id={offerProps.match.params.id} />\n          )}\n        />\n      </Switch>\n    </BrowserRouter>\n  );\n};\n\nexport { App };\n","import ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { applyMiddleware, createStore } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { createApi } from \"./api\";\nimport { App } from \"./components/App/App\";\nimport rootReducer from \"./state/reducers\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport { actionCreators } from \"./state\";\n\nconst root = document.querySelector(`#root`);\n\nexport const api = createApi(() =>\n  store.dispatch(actionCreators.changeAuthStatus(`NO_AUTH`))\n);\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(applyMiddleware(thunk.withExtraArgument(api)))\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  root\n);\n","import axios, { AxiosInstance, AxiosResponse, AxiosError } from \"axios\";\n\nconst TIMEOUT = 5000;\nconst BACKEND_URL = `https://6.react.pages.academy/six-cities`;\nconst UNAUTHORIZED = 401;\n\nexport function createApi(onUnauthorized: () => void): AxiosInstance {\n  const api = axios.create({\n    baseURL: BACKEND_URL,\n    timeout: TIMEOUT,\n    withCredentials: true,\n  });\n\n  const onSuccess = (response: AxiosResponse): AxiosResponse => response;\n\n  const onFail = (err: AxiosError): void => {\n    const response = err.response;\n\n    if (response && response.status === UNAUTHORIZED) {\n      onUnauthorized();\n\n      throw err;\n    }\n\n    throw err;\n  };\n\n  api.interceptors.response.use(onSuccess, onFail);\n\n  return api;\n}\n"],"sourceRoot":""}